(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{135:function(t,e,s){},136:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(s(97)),i=n(s(37));function n(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{addrList:[],hasAddr:!1,city:"",addrId:"",showAlert:!1,token:localStorage.getItem("token")}},components:{Alert:i.default},metaInfo:{title:"地址列表"},mounted:function(){this.getAddrList()},methods:{getAddrList:function(){var t=this;this.$emit("loadShow",!0),this.axios.get("account/shopping-address?token="+this.token).then(function(e){t.$emit("loadShow",!1),e.data.res_infor&&e.data.res_infor.length>0&&(t.hasAddr=!0,t.addrList=e.data.res_infor)}).catch(function(e){t.$emit("loadErrShow",!0)})},setDefault:function(t){var e=this;this.$emit("loadShow",!0);var s=JSON.stringify({addr_id:t});this.axios.post("account/shopping-address/default?token="+this.token,s).then(function(t){e.addrList=[],e.getAddrList()}).catch(function(t){e.$emit("loadErrShow",!0)})},deleteAddr:function(t){console.log(t),this.addrId=t,this.showAlert=!0},myCloseAlert:function(t){var e=this;if(this.showAlert=!1,t){this.$emit("loadShow",!0);var s=JSON.stringify({addr_id:this.addrId});this.axios.post("account/shopping-address/delete?token="+this.token,s).then(function(t){e.getAddrList()}).catch(function(t){e.$emit("loadErrShow",!0)})}},getCity:function(t){var e=t.Province,s=t.City,i=t.Area,n=void 0,o=void 0,r=void 0;return a.default.ajax({url:"http://ssfile.znswsse.com/product/mobile/static/area.json",type:"GET",dataType:"json",async:!1,success:function(t){var d=t.lists;a.default.each(d,function(t,d){d.code==e&&(n=d.area,a.default.each(d.city,function(t,e){e.code==s&&(o=e.area,a.default.each(e.city,function(t,e){e.code==i&&(r=e.area)}))}))})},error:function(t){console.log(t),console.log("请求错误")}}),n+" "+o+" "+r}}}},137:function(t,e,s){"use strict";s.r(e);var a=s(136),i=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);e.default=i.a},158:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.hasAddr,expression:"hasAddr"}],staticClass:"main"},[s("div",{staticClass:"address_list"},t._l(t.addrList,function(e){return s("div",{staticClass:"address_item"},[s("div",{staticClass:"address_class my_content"},[s("p",[s("span",{staticClass:"name"},[t._v(t._s(e.DeliveryUserName))]),t._v(" "),s("span",{staticClass:"tel"},[t._v(t._s(e.DeliveryPhone))])]),t._v(" "),s("p",[s("span",{staticClass:"address"},[t._v(t._s(t.getCity(e))+" "+t._s(e.DetailAddr))])]),t._v(" "),s("div",{staticClass:"compile"},[s("div",{staticClass:"default"},[s("input",{staticClass:"check",attrs:{type:"radio"},domProps:{checked:e.IsDefault},on:{click:function(s){t.setDefault(e.DeliveryId)}}}),t._v(" "),s("span",[t._v("设为默认地址")])]),t._v(" "),s("div",{staticClass:"button_group"},[s("router-link",{attrs:{to:{path:"/addressDetail",query:{id:e.DeliveryId}}}},[t._v("\n                                编辑\n                            ")]),t._v(" "),s("a",{on:{click:function(s){t.deleteAddr(e.DeliveryId)}}},[t._v("\n                                删除\n                            ")])],1)])])])}))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasAddr,expression:"!hasAddr"}]},[s("p",{directives:[{name:"show",rawName:"v-show",value:!t.hasAddr,expression:"!hasAddr"}],staticClass:"address_blank"},[t._v("\n            暂无收货地址信息\n        ")])]),t._v(" "),s("div",{staticClass:"footer"},[s("div",{staticClass:"button_box"},[s("div",[s("router-link",{staticClass:"btn",attrs:{to:"/addressDetail"}},[t._v("添加收货地址")])],1)])]),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showAlert,expression:"showAlert"}],staticClass:"alert"},[s("Alert",{on:{"on-close":t.myCloseAlert}},[s("p",{attrs:{slot:"delete"},slot:"delete"},[t._v("你确定要删除该地址吗？")])])],1)])],1)},i=[];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i})},210:function(t,e,s){"use strict";var a=s(135);s.n(a).a},89:function(t,e,s){"use strict";s.r(e);var a=s(158),i=s(137);for(var n in i)"default"!==n&&function(t){s.d(e,t,function(){return i[t]})}(n);s(210);var o=s(0),r=Object(o.a)(i.default,a.a,a.b,!1,null,null,null);e.default=r.exports}}]);