(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{138:function(t,i,a){},139:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={data:function(){return{pid:"",com:"",showQ:!1,img_path:"http://znswsse.com:8031/",showBanner:!1,banner:[],pList:[],detail:"",pages:[],sliderinit:{currentPage:0,autoplay:5e3,loop:!0},quantity:0,token:localStorage.getItem("token")}},metaInfo:{title:"产品详情"},props:["id"],watch:{$route:function(t,i){location.reload()}},components:{slider:function(t){a.e(19).then(function(){var i=[a(188)];t.apply(null,i)}.bind(this)).catch(a.oe)},P24:function(t){a.e(18).then(function(){var i=[a(187)];t.apply(null,i)}.bind(this)).catch(a.oe)},P25:function(t){a.e(17).then(function(){var i=[a(184)];t.apply(null,i)}.bind(this)).catch(a.oe)},P27:function(t){a.e(16).then(function(){var i=[a(181)];t.apply(null,i)}.bind(this)).catch(a.oe)},P29:function(t){a.e(15).then(function(){var i=[a(176)];t.apply(null,i)}.bind(this)).catch(a.oe)},P30:function(t){a.e(14).then(function(){var i=[a(172)];t.apply(null,i)}.bind(this)).catch(a.oe)},P33:function(t){a.e(13).then(function(){var i=[a(171)];t.apply(null,i)}.bind(this)).catch(a.oe)}},mounted:function(){this.pid=this.$route.params.id,this.com="P"+this.pid,this.getRes(),this.getQuantity()},methods:{getRes:function(){var t=this;this.$emit("loadShow",!0),this.axios.get("product/newdetail?pid="+this.pid).then(function(i){t.$emit("loadShow",!1),t.banner=i.data.ProImages;for(var a=0;a<t.banner.length;a++)t.pages.push({title:"",html:'<img src="'+t.img_path+t.banner[a]+'"style="height:200px">'}),console.log(t.img_path+t.banner[a]);t.detail=i.data,t.showBanner=!0}).catch(function(i){t.$emit("loadErrShow",!0)})},getQuantity:function(){var t=this;this.$emit("loadShow",!0),this.axios.get("account/shopping-cart?token="+this.token).then(function(i){if(t.$emit("loadShow",!1),i.data.res_infor.length>0){t.showQ=!0,t.pList=i.data.res_infor;for(var a=0,e=0;e<t.pList.length;e++)a+=t.pList[e].ProQuantity;t.quantity=a}else t.showQ=!1}).catch(function(i){t.$emit("loadErrShow",!0)})},addCart:function(){var t=this;this.$emit("loadShow",!0);var i=JSON.stringify({proid:this.pid,proquantity:1,singleprice:this.detail.SalePrice,totalprice:this.detail.SalePrice});this.axios.post("account/shopping-cart?token="+this.token,i).then(function(i){t.$emit("loadShow",!1),t.getQuantity()}).catch(function(i){t.$emit("loadErrShow",!0)})},buy:function(){this.addCart(),this.$router.push({path:"/orderDetail",query:{ids:[this.pid]}})}}}},140:function(t,i,a){"use strict";a.r(i);var e=a(139),n=a.n(e);for(var s in e)"default"!==s&&function(t){a.d(i,t,function(){return e[t]})}(s);i.default=n.a},159:function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",[a("div",{staticClass:"banner"},[a("slider",{attrs:{pages:t.pages,sliderinit:t.sliderinit}})],1),t._v(" "),a("div",{staticClass:"pd_msg"},[a("div",[a("p",{staticClass:"pleft"},[a("span",{staticClass:"pname",staticStyle:{"text-align":"left"}},[t._v(t._s(t.detail.ProName))]),t._v(" "),a("span",{staticClass:"ptype",staticStyle:{"text-align":"left","font-size":"12px"}},[t._v(t._s(t.detail.ProModel))])]),t._v(" "),a("p",{staticClass:"pright"},[a("span",{staticStyle:{"text-align":"right"}},[a("b",{staticClass:"price"},[t._v("￥"+t._s(t.detail.SalePrice?t.detail.SalePrice.toFixed(2):0)+"元")])]),t._v(" "),a("span",{staticClass:"small",staticStyle:{"text-align":"right","font-size":"12px"}},[t._v(t._s(t.detail.ProStatus))])])])]),t._v(" "),t.detail.DesContent?a("div",{staticClass:"img_box"},[a("img",{attrs:{src:t.img_path+t.detail.DesContent,alt:""}})]):t._e(),t._v(" "),t.detail.ProOperates?a("div",{staticClass:"msg_detail"},[a(t.com,{tag:"component"})],1):t._e(),t._v(" "),a("div",{staticClass:"footer"},[a("div",{staticClass:"border",attrs:{id:"footer"}},[a("div",{staticClass:"cart"},[a("div",{staticClass:"cur"},[a("router-link",{attrs:{to:"/cart"}},[a("i",{directives:[{name:"show",rawName:"v-show",value:!t.showQ,expression:"!showQ"}],staticClass:"cart has"}),t._v(" "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showQ,expression:"showQ"}],staticClass:"cart"}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:t.showQ,expression:"showQ"}],staticClass:"cart_num"},[t._v(t._s(t.quantity))])])],1)]),t._v(" "),a("div",{staticClass:"add_cart f_item"},[a("span",[a("a",{attrs:{id:"addCart"},on:{click:function(i){t.addCart()}}},[t._v("加入购物车")])])]),t._v(" "),a("div",{staticClass:"buy f_item"},[a("span",[a("a",{attrs:{id:"buy"},on:{click:function(i){t.buy()}}},[t._v("立即购买")])])])])])])},n=[];a.d(i,"a",function(){return e}),a.d(i,"b",function(){return n})},212:function(t,i,a){"use strict";var e=a(138);a.n(e).a},90:function(t,i,a){"use strict";a.r(i);var e=a(159),n=a(140);for(var s in n)"default"!==s&&function(t){a.d(i,t,function(){return n[t]})}(s);a(212);var o=a(0),r=Object(o.a)(n.default,e.a,e.b,!1,null,"a914e794",null);i.default=r.exports}}]);